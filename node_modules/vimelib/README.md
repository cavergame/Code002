# VimeLib
Библиотека для работы с VimeWorld API.

# Установка
### NPM
```shell
npm i vimelib
```

# Использование
```js
const vimeworld = require('../index.js');
const vime = new vimeworld("ВАШ API КЛЮЧ");



// Получить Одного либо нескольких игроков по нику:
vime.getUsersbyName("asazs").then((result) => {
    var asazsLVL = result[0].level;
    console.log(`[getUsersbyName] Лвл Asazs: ${asazsLVL}`)
})

vime.getUsersbyName("asazs,jonfix").then((result) => {
    var asazsLVL = result[0].level;
    var jonfixLVL = result[1].level;
    console.log(`[getUsersbyName] Лвл Asazs: ${asazsLVL} | Лвл JonFix: ${jonfixLVL}`)
})



// Получить Одного либо нескольких игроков по ID:
vime.getUsersbyID("2347274").then((result) => {
    var asazsLVL = result[0].level;
    console.log(`[getUsersbyID] Лвл Asazs: ${asazsLVL}`)
})

vime.getUsersbyID("2347274,3241776").then((result) => {
    var asazsLVL = result[0].level;
    var jonfixLVL = result[1].level;
    console.log(`[getUsersbyID] Лвл Asazs: ${asazsLVL} | Лвл JonFix: ${jonfixLVL}`)
})



// Получить друзей игрока: 

vime.getFriends("2347274").then((result) => {
    var names = "";
    result.friends.forEach(friend => {
        names += `[getFriends] - ${vime.returnReadable(friend.rank).prefix} ${friend.username}\n`
    });
    console.log(`[getFriends] Список друзей asazs:\n${names}`);
})

// Получить сессию игрока (онлайн)

vime.getSession("2347274").then((result) => {
    var status = result.online.value ? "в сети и " + result.online.message : "оффлайн";
    console.log(`[getSession] Игрок ${vime.returnReadable(result.user.rank).prefix} ${result.user.username} сейчас ${status}`);
})



// Получить гильдию по Тегу/Имени/ID:

// - ID
vime.getGuildByID("1").then((guild) => {
    console.log(`[getGuildByID] Получена гильдия: ${guild.name} лвл гильдии ${guild.level}`);
});

// - Tag
vime.getGuildByTag("FFive").then((guild) => {
    console.log(`[getGuildByTag] Получена гильдия: ${guild.name} лвл гильдии ${guild.level}`);
});

// - Name
vime.getGuildByName("Fantastic Five").then((guild) => {
    console.log(`[getGuildByName] Получена гильдия: ${guild.name} лвл гильдии ${guild.level}`);
});

// Получить таблицу рекордов:

/* Online, size = Не обязательный параметр */
vime.getLeaderBoard("user", "online", "1").then((leaderboard) => {
    // console.log(leaderboard);
});



// Получить Список таблиц рекордов 

vime.getLeaderTypes().then((types) => {
    // console.log(types);
});


// Получить онлайн на сервере

vime.getOnline().then((online) => {
    console.log(`[getOnline] Общий онлайн: ${online.total} | Онлайн на Annihilation: ${online.separated.ann} | Онлайн на BuildBattle: ${online.separated.bb}`)
});


// Получить список текущих стримов:

vime.getStreams().then((streams) => {
    var owners = "[getStreams] Список активных стримов: ";
    streams.forEach((stream) => {
        owners += `[getStreams] - ${stream.owner} ведет прямую трансляцию ${stream.title} зрителей ${stream.viewers}\n`
    })
    console.log(owners);
})


// Получить список администрации онлайн

vime.getStaff().then((player) => {
    var staff = "[getStaff] Список администрации онлайн: \n";
    player.forEach((staff) => {
        staff += `[getStaff] - ${vime.returnReadable(staff.rank).prefix} ${staff.username} сейчас ${staff.online.message}\n`
    })
    console.log(staff);
})
```
